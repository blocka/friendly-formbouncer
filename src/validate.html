<html>
<head>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.js"></script>
	<script type="text/javascript" src="http://ajax.cdnjs.com/ajax/libs/underscore.js/1.1.6/underscore-min.js"></script>
	<style>
		ol {
			 list-style-type: none;
			 list-style-position: inside;
		}
	</style>
</head>
<body>
<script type="text/javascript">
var process = function(queue, options) {
	options = options || {};
	var data = { stop: false }; // Shared data
	(function next() {
		if (data.stop) {
			$.isFunction(options.stopCallback)
				? options.stopCallback(data)
				: options.callback(data);
			return;
		}
		
		if (queue[0]) {
			queue.shift().call(queue, data, next);
		} else {
			options.callback(data);
		}
	})();
};

var i = 0;
var queue = [];
queue.push(function(data, next) { console.log(++i, data); setTimeout(next, 1000); });
queue.push(function(data, next) { console.log(++i, data); setTimeout(next, 1000); });
queue.push(function(data, next) { console.log(++i, data); setTimeout(next, 1000); });
queue.push(function(data, next) { console.log(++i, data); setTimeout(next, 1000); });
//process(queue, {
//	stopCallback: function(data) { console.log('stop callback', data); }, // optional
//	callback: function(data) { console.log('callback', data); }
//});
</script>
<form id="whoo" method="post">
	<ol>
		<li>
			<label for="fe-firstname">Firstname</label>
			<input type="text" name="firstname" id="fe-firstname" />
		</li>
		<li>
			<label for="fe-lastname">Lastname</label>
			<input type="text" name="lastname" id="fe-lastname" />
		</li>
		<li>
			<label for="fe-email">Email</label>
			<input type="text" name="email" id="fe-email" />
		</li>
		<li>
			<label for="fe-letter">Letter</label>
			<select name="letter" id="fe-letter">
				<option value="">- Choose -</option>
				<option value="A">A</option>
				<option value="B">B</option>
				<option value="C">C</option>
			</select>
		</li>
		<li>
			<select name="date-day" id="fe-letter">
				<option value="">- Day -</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
			</select>
			<select name="date-month" id="fe-letter">
				<option value="">- Month -</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
			</select>
			<select name="date-year" id="fe-letter">
				<option value="">- Year -</option>
				<option value="2008">2008</option>
				<option value="2009">2009</option>
				<option value="2010">2010</option>
			</select>
		</li>
		<li>
			<select name="birthdate-day" id="fe-letter">
				<option value="">- Day -</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
			</select>
			<select name="birthdate-month" id="fe-letter">
				<option value="">- Month -</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
			</select>
			<select name="birthdate-year" id="fe-letter">
				<option value="">- Year -</option>
				<option value="2008">2008</option>
				<option value="2009">2009</option>
				<option value="2010">2010</option>
			</select>
		</li>
	</ol>
	<input type="submit" />
</form>
<script type="text/javascript" src="validate.js"></script>
</body>
</html>
